@{
    const int appId = 0;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title</title>
    @Html.Raw("<script src=\"https://unpkg.com/@vkid/sdk@2.5.2/dist-sdk/umd/index.js\"></script>")
</head>
<body>
<div>
    <script type="text/javascript">
        if ('VKIDSDK' in window) {
            const VKID = window.VKIDSDK;
            console.log(VKID);

            VKID.Config.init({
                app: @appId,
                redirectUrl: 'https://local.vk-photosextractor',
                responseMode: VKID.ConfigResponseMode.Callback,
                source: VKID.ConfigSource.LOWCODE,
                scope: '',
            });

            const oneTap = new VKID.OneTap();

            oneTap.render({
                container: document.currentScript.parentElement,
                scheme: 'dark',
                lang: 3,
                showAlternativeLogin: true,
                contentId: 3,
                styles: {
                    borderRadius: 11,
                    width: 250,
                    height: 34
                }
            })
                .on(VKID.WidgetEvents.ERROR, vkidOnError)
                .on(VKID.OneTapInternalEvents.LOGIN_SUCCESS, function (payload) {
                    const code = payload.code;
                    const deviceId = payload.device_id;

                    VKID.Auth.exchangeCode(code, deviceId)
                        .then(vkidOnSuccess)
                        .catch(vkidOnError);
                });

            function vkidOnSuccess(data) {
                console.log(data);
            }

            function vkidOnError(error) {
                console.log(error);
            }
        }
    </script>
</div>
</body>
</html>